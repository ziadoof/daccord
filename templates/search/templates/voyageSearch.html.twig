{#{% set voyageForm = form_voyageSearchType.getForm().createView() %}
<div class="row register-form">
    <div class="col-md-12 mt-4">
        {{ form_start(voyageForm, {'attr': {'id': 'search-carpooling'}}) }}
        <div class=" ">
            <div class="row">
                <div class="col-md-8 offset-2 ">
                    <div class="row my-4">
                        <div class="col-md-4">
                            {{ form_row(voyageForm.departure) }}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(voyageForm.arrival) }}
                        </div>
                        <div class="col-md-2">
                             {{ form_row(voyageForm.date) }}
                        </div>
                        <div class="col-md-2 mt-4">
                            {{ form_row(voyageForm.highway) }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center mb-2">
            <div class="col-md-12">
                <input type="submit" id="valide-offer-search" class="btn btn-info btn-block" value="{{ 'Search'|trans }}" />
            </div>
        </div>
    </div>
</div>

{{ form_end(voyageForm) }}#}
<a href="{{ path('search_city') }}" id="url-list" class="hidden"></a>
<a href="{{ path('get_city') }}" id ="url-get" class="hidden"></a>
<script
        src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>
<script>
    $(document).on('click', "#voyage_search_departure",function () {
        'use strict';
        /* autocomplete city on new user (this is the main feature) */
        (function () {
            var options = {
                url_list: $('#url-list').attr('href'),
                url_get: $('#url-get').attr('href'),
                otherOptions: {
                    minimumInputLength: 2,
                    theme: 'boostrap',
                    formatNoMatches: 'No author found.',
                    formatSearching: 'Searching city...',
                    formatInputTooShort: 'Insert at least 2 character'
                }
            };
            $('#voyage_search_departure').autocompleter(options);
        }());
    });
    $(document).on('click', "#voyage_search_arrival",function () {
        'use strict';
        /* autocomplete city on new user (this is the main feature) */
        (function () {
            var options = {
                url_list: $('#url-list').attr('href'),
                url_get: $('#url-get').attr('href'),
                otherOptions: {
                    minimumInputLength: 2,
                    theme: 'boostrap',
                    formatNoMatches: 'No author found.',
                    formatSearching: 'Searching city...',
                    formatInputTooShort: 'Insert at least 2 character'
                }
            };
            $('#voyage_search_arrival').autocompleter(options);
        }());
    });
</script>
