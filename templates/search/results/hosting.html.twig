{% extends "layout_user.html.twig" %}
{% block content %}
    <div class="row">
    {% if hostings is defined %}
        {% for hosting in hostings %}
            <div class="col-xl-3 col-lg-4 col-sm-6 col-12 mb-4" >
                <div id="ad_index" class="ad_index shadow-border border-left">
                    <a href="{{path('hosting_show',{'id':hosting['id']})}}">
                        <div class="row">
                            <div class="col-md-12">
                                <img class="image_hosting_search" src="{{hosting['image']}}"/>
                            </div>
                        </div>
                    </a>
                    <div class="row">
                        <div class="col-12 mt-1">
                            <div class="d-inline">
                                <div class="btn-group">
                                    <div class="d-inline">
                                        <img class="vote-avatar ml-2 d-inline" src="{{hosting['userImage']}}"/>
                                    </div>
                                    <div class=" d-inline">
                                        <small class="ml-2 blued d-block">{{hosting['user']}}</small>
                                        <small class="ml-2 blued d-block">{{hosting['city']}}</small>
                                    </div>
                                </div>
                                <div class="d-inline">
                                    {% if app.user %}
                                        {% set isFavorite = 'false' %}
                                        {#data-favorite must be string not boolean#}
                                        {% for favorite in app.user.getFavoritesByType('hosting')  %}
                                            {% if favorite.hosting.id is same as (hosting['id']) %}
                                                {% set isFavorite = 'true' %}
                                            {% endif %}
                                        {% endfor %}
                                        <form method="post" action="{{ url('favorite_add') }}" class="d-inline js-favorite-add float-right mt-1 mr-1" data-object="{{ hosting['id'] }}" data-type="hosting" data-favorite="{{ isFavorite }}">
                                            <div class="flexbox">
                                                <div class="fav-btn">
                                                    <span class="fas fa-heart  favme dashicons dashicons-heart  {% if isFavorite is same as ('true') %} {{'active'}} {% endif %}"></span>
                                                </div>
                                            </div>
                                        </form>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        <div class="pagination-search row justify-content-center mt-4">
            <div class="navigation">
                {{ knp_pagination_render(hostings) }}
            </div>
        </div>
    {% else %}
    </div>
        <div class=" ">
        <div class="">
            <div class="text-center title-blue">
                {# this will run whene the user com from get methode with rong id after /search/offers/ or /search/demands/#}
                <h1> {% trans %} There is no results{% endtrans %}</h1>
            </div>
        </div>
    </div>
    {% endif %}
{% endblock %}