{% if not mgilet_notification_count(app.user)  %}
    <a href="#!" id="notificationDropdown" data-toggle="dropdown" data-target="#notification-menu"
       aria-haspopup="true"><i class="fas fa-bell"></i>
    </a>
    <li >
        <div class="bell-icon header__notification ">
            <div id="notification-menu" class="notification-menu collapse" aria-labelledby="notificationDropdown">
                <ul class="notification__list dropdown " >
                    <h4 class="notification__list__name py-3">
                        Notification
                        <span class="notification-number large-number">{{mgilet_notification_count(app.user)}}</span>
                        Unseen
                        <span class="notification-number large-number" id="unseen-large-number">{{mgilet_notification_unseen_count(app.user)}}</span>
                    </h4>
                    <h6 class="text-center mt-2"> There is no notification found!</h6>
                </ul>
            </div>
        </div> <!-- bell-icon-->
    </li>
{% else %}
    <div class="general-notification">
    {% if mgilet_notification_unseen_count(app.user) > 0 %}
        <a href="#!" id="notificationDropdown" data-toggle="dropdown" data-target="#notification-menu"
           aria-haspopup="true"><span id="notificationCount">{{ mgilet_notification_unseen_count(app.user) }}</span><i class="fas fa-bell"></i>
        </a>
        <li class="active-notification">
    {% else %}
        <a href="#!" id="notificationDropdown" data-toggle="dropdown" data-target="#notification-menu"
           aria-haspopup="true"><i class="fas fa-bell"></i>
        </a>
        <li class="active-notification">
    {% endif %}
            <div class="bell-icon header__notification ">
                <div id="notification-menu" class="notification-menu collapse" aria-labelledby="notificationDropdown">
                <ul class="notification__list dropdown " >
                        <h4 class="notification__list__name py-3">
                            Notification
                            <span class="notification-number large-number">{{mgilet_notification_count(app.user)}}</span>
                            Unseen
                            <span class="notification-number large-number" id="unseen-large-number">{{mgilet_notification_unseen_count(app.user)}}</span>
                            {% if notificationList|length > 0 %}
                                {% if mgilet_notification_unseen_count(app.user) > 0 %}
                                    <li style="padding: 10px;">
                                        <b class="text-muted">{{ 'notifications'|trans({},'MgiletNotificationBundle') }}</b>
                                        <a id="notification-MarkAllAsSeen" href="{{ mgilet_notification_generate_path('notification_mark_all_as_seen', notificationList|first.notifiableEntity) }}" class="no-margin btn btn-xs pull-right">{{ 'mark_all_as_seen'|trans({},'MgiletNotificationBundle') }}</a>
                                    </li>
                                {% endif %}
                            {% endif %}
                        </h4>
                    <div id="new-notification">
                        {#new notification here#}
                    </div>
                    {% for notification in notificationList %}
                        {% set subject = notification.notification.subject  %}
                        <section class="one-note">
                            <li class="list__item {% if notification.seen %}{{ 'seen' }}{% endif %}">
                                    <a href="{{ notification.notification.link }}"
                                       class="list__item--link my-0
                                        {% if     subject is same as ('profilePoints') %}{{" profilePoints"}}
                                        {% elseif subject is same as ('driverPoints')  %}{{" driverPoints"}}
                                        {% elseif subject is same as ('ratingMeetup')  %}{{" ratingMeetup"}}
                                        {% elseif subject is same as ('meetupComment') %}{{" meetupComment"}}
                                        {% elseif subject is same as ('hostingPoints') %}{{" hostingPoints"}}
                                        {% elseif subject is same as ('removeUserPoints') %}{{" profilePoints"}}
                                        {% elseif subject is same as ('removeCarpoolPoints') %}{{" carpoolPoints"}}
                                        {% elseif subject is same as ('carpoolAddPoints') %}{{" carpoolPoints"}}
                                        {% elseif subject is same as ('ratingCarpool') %}{{" carpoolPoints"}}
                                        {% elseif subject is same as ('pointsVoyageCanceled') %}{{" profilePoints"}}
                                        {% endif %}
                                        {% if notification.notification.message is same as ('meetupParticipant') %}{{" meetupParticipant"}}{% endif %}"
                                       {% if not notification.seen %}notifiable="{{notification.notifiableEntity.id}}"
                                       notification="{{ notification.notification.id }}"
                                        {% endif %}>
                                        {% if subject is same as ('profilePoints') or
                                              subject is same as ('driverPoints') or
                                              subject is same as ('hostingPoints')or
                                              subject is same as ('removeUserPoints')or
                                              subject is same as ('removeCarpoolPoints')or
                                              subject is same as ('carpoolAddPoints')or
                                              subject is same as ('pointsVoyageCanceled')%}
                                            <img src="{{asset('/assets/images/logo/face.png')}}" alt="" class="user-image mx-2 mt-1" />
                                        {% else %}
                                            {% if data[notification.notification.id]['sender'].profileImage %}
                                                <img src="{{asset('/assets/images/profile/'~data[notification.notification.id]['sender'].profileImage)}}" alt="" class="user-image mx-2 mt-1" />
                                            {% else %}
                                                <img src="{{asset('/assets/images/profile/user-avatar.png')}}" alt="" class="user-image mx-2 mt-1" />
                                            {% endif %}
                                        {% endif %}
                                        <span class="messages mx-2">
                                            {% set type = data[notification.notification.id]['type'] %}
                                                {% if type is same as ('deal') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-handshake"></i></span>
                                                    {{ 'New suggested deal !' }}</p>
                                                    <p>There is a proposed deal with <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                        regarding your AD from category <span class="blued">{{data[notification.notification.id]['category']}}</span>
                                                    </p>
                                                {% elseif type is same as ('driverRequest') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fas fa-truck-moving"></i></span>
                                                    {{ 'New driver request !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> had been sent you a new driver request
                                                        about the catigory <span class="blued">{{data[notification.notification.id]['category']}}</span>
                                                    </p>
                                                {% elseif type is same as ('treatmentDriverRequest') %}
                                                    {% if notification.notification.subject is same as ('rejected') %}
                                                        <p class="font-weight-bold mb-0">
                                                        <span class="rosed"><i class="fas fa-times"></i></span>
                                                        {{ 'Treatment driver request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> rejected the driver's
                                                            request that you had previously sent him about the catigory
                                                            <span class="blued">{{data[notification.notification.id]['category']}}</span>
                                                        </p>
                                                    {% else %}
                                                        <p class="font-weight-bold mb-0">
                                                            <span class="blued"><i class="fas fa-check"></i></span>
                                                        {{ 'Treatment driver request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> accepted the driver's
                                                            request that you had previously sent him about the catigory
                                                            <span class="blued">{{data[notification.notification.id]['category']}}</span></p>
                                                    {% endif %}
                                                {% elseif type is same as ('addDriverToDeal') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-check"></i>{{ ' ' }}<i class="fas fas fa-truck-moving"></i></span>
                                                    {{ 'Add to Deal !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> has added you to a deal that will be executed soon
                                                        about the catigory <span class="blued">{{data[notification.notification.id]['category']}}</span>
                                                    </p>
                                                {% elseif type is same as ('semiDoneDeal') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-handshake"></i></span>
                                                    {{ 'Semi done Deal !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> has ended a deal
                                                        about the catigory <span class="blued">{{data[notification.notification.id]['category']}}</span> that you are a member of,
                                                        Waiting for other members to finish the deal

                                                    </p>
                                                {% elseif type is same as ('doneDeal') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="fas fa-handshake"></i></span>
                                                    {{ 'DONE DEAL !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> has ended a deal
                                                        about the catigory <span class="blued">{{data[notification.notification.id]['category']}}</span> that you are a member of,
                                                        <span>The deal was terminated</span>
                                                    </p>
                                                {% elseif type is same as ('profilePoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>Congratulations ... Five extra points have been added to you</span></p>
                                                {% elseif type is same as ('driverPoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>Congratulations ... Seven extra points have been added to you</span></p>
                                                {% elseif type is same as ('ratingDriver') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="far fa-star"></i></span>
                                                    {{ 'Rating !' }}</p>
                                                    <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                    has added a rating for you as a driver, based on your latest deal.
                                                    </p>
                                                {% elseif type is same as ('ratingHosting') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="far fa-star"></i></span>
                                                    {{ 'Rating !' }}</p>
                                                    <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                    has added a rating for you as a hosting, based on your latest hosting.
                                                    </p>
                                                {% elseif type is same as ('hostingRequest') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-suitcase-rolling ml-0"></i></span>
                                                    {{ ' New hosting request !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> had been sent you a new hosting request..!</p>
                                                {% elseif type is same as ('treatmentHostingRequest') %}
                                                    {% if notification.notification.subject is same as ('rejected') %}
                                                        <p class="font-weight-bold mb-0">
                                                        <span class="rosed"><i class="fas fa-times"></i></span>
                                                        {{ 'Treatment hosting request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> rejected the hosting's
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% else %}
                                                        <p class="font-weight-bold mb-0">
                                                            <span class="blued"><i class="fas fa-check"></i></span>
                                                        {{ 'Treatment hosting request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> accepted the hosting's
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% endif %}
                                                {% elseif type is same as ('doneHosting') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="fas fa-suitcase-rolling ml-0"></i></span>
                                                    {{ 'Done Hosting !' }}</p>
                                                    <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                    had ended the hosting that you are part of...!
                                                    </p>
                                                {% elseif type is same as ('hostingPoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>Congratulations ... Ten extra points have been added to your hosting profile.</span></p>
                                                {% elseif type is same as ('meetupRequest') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-user-friends"></i></span>
                                                    {{ ' New meetup join request !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> had been sent you a new meetup join request..!</p>
                                                {% elseif type is same as ('treatmentMeetupRequest') %}
                                                    {% if notification.notification.subject is same as ('Rejected') %}
                                                        <p class="font-weight-bold mb-0">
                                                        <span class="rosed"><i class="fas fa-times"></i></span>
                                                        {{ 'Treatment meetup join request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> rejected the meetup join
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% else %}
                                                        <p class="font-weight-bold mb-0">
                                                            <span class="blued"><i class="fas fa-check"></i></span>
                                                        {{ 'Treatment meetup join request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> accepted the meetup join
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% endif %}
                                                {% elseif type is same as ('cancelJoinParticipant') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-calendar-times"></i></span>
                                                    {{ 'Cancel meetup join !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                        {% if notification.notification.subject is same as ('removed')  %}
                                                            had canceled your participation in his meetup.
                                                        {% else %}
                                                            had canceled his participation in your meetup.
                                                        {% endif %}
                                                    </p>
                                                {% elseif type is same as ('cancelJoinWaiting') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-calendar-times"></i></span>
                                                    {{ 'Cancel meetup join !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                        {% if notification.notification.subject is same as ('removed')  %}
                                                            had canceled your subscription to the waiting list
                                                            in his meetup.
                                                        {% else %}
                                                            had canceled his subscription to the waiting list in your meetup.
                                                        {% endif %}
                                                    </p>
                                                {% elseif type is same as ('transferToParticipant') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-exchange-alt"></i></span>
                                                    {{ 'Transfer to participants list !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                     transferred you from the waiting list to the participants in his meetup !.
                                                    </p>
                                                {% elseif type is same as ('meetupComment') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="far fa-comment-alt"></i></span>
                                                    {{ 'New comment !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                     added a comment to an meetup where you are a member..!
                                                    </p>
                                                {% elseif type is same as ('ratingMeetup') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="far fa-star"></i></span>
                                                    {{ 'Rating !' }}</p>
                                                    <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                    has added a rating for your meetup.
                                                    </p>
                                                {% elseif type is same as ('voyageRequest') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="fas fa-car"></i></span>
                                                    {{ ' New voyage join request !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> had been sent you a new voyage join request..!</p>
                                                {% elseif type is same as ('treatmentVoyageRequest') %}
                                                    {% if notification.notification.subject is same as ('Rejected') %}
                                                        <p class="font-weight-bold mb-0">
                                                        <span class="rosed"><i class="fas fa-times"></i></span>
                                                        {{ 'Treatment voyage join request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> rejected the voyage join
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% else %}
                                                        <p class="font-weight-bold mb-0">
                                                            <span class="blued"><i class="fas fa-check"></i></span>
                                                        {{ 'Treatment voyage join request !' }}</p>
                                                        <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> accepted the voyage join
                                                            request that you had previously sent him.
                                                        </p>
                                                    {% endif %}
                                                {% elseif type is same as ('voyageRemovePassenger') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-calendar-times"></i></span>
                                                    {{ 'Cancel voyage join !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                        {% if notification.notification.subject is same as ('removed')  %}
                                                            had canceled your participation in his voyage.
                                                        {% else %}
                                                            had canceled his participation in your voyage.
                                                        {% endif %}
                                                    </p>
                                                {% elseif type is same as ('removeUserPoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>
                                                        {% if notification.notification.message is same as ('0') %}
                                                            You have no points left!
                                                        {% else %}
                                                            You lost {{ notification.notification.message }} points!
                                                        {% endif %}
                                                    </span></p>
                                                {% elseif type is same as ('removeCarpoolPoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>
                                                        {% if notification.notification.message is same as ('0') %}
                                                            You have no points left as carpool!
                                                        {% else %}
                                                            You lost {{ notification.notification.message }} points as carpool!
                                                        {% endif %}
                                                    </span></p>
                                                {% elseif type is same as ('carpoolAddPoints') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span>Congratulations ... 30 extra points have been added to you as carpool</span></p>
                                                {% elseif type is same as ('ratingCarpool') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="blued"><i class="far fa-star"></i></span>
                                                    {{ 'Rating !' }}</p>
                                                    <span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                    has added a rating for you as a carpool, based on your latest voyage..
                                                    </p>
                                                {% elseif type is same as ('cancelVoyage') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-calendar-times"></i></span>
                                                    {{ 'Cancel voyage!' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span>
                                                        canceled a voyage you are traveling on.
                                                    </p>
                                                {% elseif type is same as ('pointsVoyageCanceled') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="far fa-star"></i></span>
                                                    {{ 'POINTS !' }}</p>
                                                    <p><span> You earned five extra points for canceling a voyage you are traveling on. </span></p>
                                                {% elseif type is same as ('cancelDeal') %}
                                                    <p class="font-weight-bold mb-0">
                                                    <span class="rosed"><i class="fas fa-exclamation-triangle"></i></span>
                                                    {{ 'Cancel Deal !' }}</p>
                                                    <p><span class="blued">{{ data[notification.notification.id]['sender']|title }}</span> has canceled the deal that you were part of, and was to be executed soon,
                                                        about the catigory <span class="blued">{{data[notification.notification.id]['category']}}</span>
                                                    </p>
                                                {% endif %}
                                        </span>
                                    </a>
                                <div class="row">
                                    <div class="col btn-group">
                                        <div class="col-md-6 ">
                                            {% if notification.seen %}
                                            <div class=" seen">
                                            {% else %}
                                            <div class="all-as-seen mark-as">
                                                <a href="{{ mgilet_notification_generate_path('notification_mark_as_seen', notification.notifiableEntity, notification.notification) }}" class="ajax-notification action-secondary">Mark as seen</a>
                                            {% endif %}
                                            </div>
                                        </div>
                                        <div class="col-md-2 offset-4">
                                            <div class="row">
                                                <div class=" mb-1 mt-0 float-right">
                                                    <b class=" all-as-seen">
                                                        {{ notifiedBy.date_format(notification.notification.date ) }}
                                                    </b>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </section>
                    {% endfor %}
                </ul>
                </div>
            </div> <!-- bell-icon-->
        </li>
    </div>
{% endif %}
